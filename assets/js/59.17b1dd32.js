(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{488:function(t,e,s){"use strict";s.r(e);var a=s(24),v=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"启动mysql服务器程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动mysql服务器程序"}},[t._v("#")]),t._v(" 启动MySQL服务器程序")]),t._v(" "),s("h3",{attrs:{id:"unix里启动服务器程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unix里启动服务器程序"}},[t._v("#")]),t._v(" UNIX里启动服务器程序")]),t._v(" "),s("p",[t._v("在类"),s("code",[t._v("UNIX")]),t._v("系统中用来启动"),s("code",[t._v("MySQL")]),t._v("服务器程序的可执行文件有很多，大多在"),s("code",[t._v("MySQL")]),t._v("安装目录的"),s("code",[t._v("bin")]),t._v("目录下，我们一起来瞅瞅。")]),t._v(" "),s("h4",{attrs:{id:"mysqld"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysqld"}},[t._v("#")]),t._v(" mysqld")]),t._v(" "),s("p",[s("code",[t._v("mysqld")]),t._v("这个可执行文件就代表着"),s("code",[t._v("MySQL")]),t._v("服务器程序，运行这个可执行文件就可以直接启动一个服务器进程。但这个命令不常用，我们继续往下看更牛逼的启动命令。")]),t._v(" "),s("h4",{attrs:{id:"mysqld-safe"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysqld-safe"}},[t._v("#")]),t._v(" mysqld_safe")]),t._v(" "),s("p",[s("code",[t._v("mysqld_safe")]),t._v("是一个启动脚本，它会间接的调用"),s("code",[t._v("mysqld")]),t._v("，而且还顺便启动了另外一个监控进程，这个监控进程在服务器进程挂了的时候，可以帮助重启它。另外，使用"),s("code",[t._v("mysqld_safe")]),t._v("启动服务器程序时，它会将服务器程序的出错信息和其他诊断信息重定向到某个文件中，产生出错日志，这样可以方便我们找出发生错误的原因。")]),t._v(" "),s("h4",{attrs:{id:"mysql-server"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysql-server"}},[t._v("#")]),t._v(" mysql.server")]),t._v(" "),s("p",[s("code",[t._v("mysql.server")]),t._v("也是一个启动脚本，它会间接的调用"),s("code",[t._v("mysqld_safe")]),t._v("，在调用"),s("code",[t._v("mysql.server")]),t._v("时在后边指定"),s("code",[t._v("start")]),t._v("参数就可以启动服务器程序了，就像这样：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql.server start\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("需要注意的是，"),s("span",{staticStyle:{color:"red"}},[t._v("这个 "),s("em",[s("strong",[t._v("mysql.server")])]),t._v(" 文件其实是一个链接文件，它的实际文件是 "),s("em",[s("strong",[t._v("../support-files/mysql.server")])])]),t._v("。我使用的"),s("code",[t._v("macOS")]),t._v("操作系统会帮我们在"),s("code",[t._v("bin")]),t._v("目录下自动创建一个指向实际文件的链接文件，如果你的操作系统没有帮你自动创建这个链接文件，那就自己创建一个呗～ 别告诉我你不会创建链接文件，上网搜搜呗～")]),t._v(" "),s("p",[t._v("另外，我们还可以使用"),s("code",[t._v("mysql.server")]),t._v("命令来关闭正在运行的服务器程序，只要把"),s("code",[t._v("start")]),t._v("参数换成"),s("code",[t._v("stop")]),t._v("就好了：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql.server stop\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h4",{attrs:{id:"mysqld-multi"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysqld-multi"}},[t._v("#")]),t._v(" mysqld_multi")]),t._v(" "),s("p",[t._v("其实我们一台计算机上也可以运行多个服务器实例，也就是运行多个"),s("code",[t._v("MySQL")]),t._v("服务器进程。"),s("code",[t._v("mysql_multi")]),t._v("可执行文件可以对每一个服务器进程的启动或停止进行监控。这个命令的使用比较复杂，本书主要是为了讲清楚"),s("code",[t._v("MySQL")]),t._v("服务器和客户端运行的过程，不会对启动多个服务器程序进行过多唠叨。")]),t._v(" "),s("h3",{attrs:{id:"windows里启动服务器程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#windows里启动服务器程序"}},[t._v("#")]),t._v(" Windows里启动服务器程序")]),t._v(" "),s("p",[s("code",[t._v("Windows")]),t._v("里没有像类"),s("code",[t._v("UNIX")]),t._v("系统中那么多的启动脚本，但是也提供了手动启动和以服务的形式启动这两种方式，下边我们详细看。")]),t._v(" "),s("h4",{attrs:{id:"mysqld-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#mysqld-2"}},[t._v("#")]),t._v(" mysqld")]),t._v(" "),s("p",[t._v("同样的，在"),s("code",[t._v("MySQL")]),t._v("安装目录下的"),s("code",[t._v("bin")]),t._v("目录下有一个"),s("code",[t._v("mysqld")]),t._v("可执行文件，在命令行里输入"),s("code",[t._v("mysqld")]),t._v("，或者直接双击运行它就算启动了"),s("code",[t._v("MySQL")]),t._v("服务器程序了。")]),t._v(" "),s("h4",{attrs:{id:"以服务的方式运行服务器程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#以服务的方式运行服务器程序"}},[t._v("#")]),t._v(" 以服务的方式运行服务器程序")]),t._v(" "),s("p",[t._v("首先看看啥是个"),s("code",[t._v("Windows")]),t._v(" 服务？如果无论是谁正在使用这台计算机，我们都需要长时间的运行某个程序，而且需要在计算机启动的时候便启动它，一般我们都会把它注册为一个"),s("code",[t._v("Windows 服务")]),t._v("，操作系统会帮我们管理它。把某个程序注册为"),s("code",[t._v("Windows")]),t._v("服务的方式挺简单，如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"完整的可执行文件路径" --install [-manual] [服务名]\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("其中的"),s("code",[t._v("-manual")]),t._v("可以省略，加上它的话表示在"),s("code",[t._v("Windows")]),t._v("系统启动的时候"),s("span",{staticStyle:{color:"red"}},[t._v("不")]),t._v("自动启动该服务，否则会自动启动。"),s("code",[t._v("服务名")]),t._v("也可以省略，默认的服务名就是"),s("code",[t._v("MySQL")]),t._v("。比如我的"),s("code",[t._v("Windows")]),t._v("计算机上"),s("code",[t._v("mysqld")]),t._v("的完整路径是：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("C:\\Program Files\\MySQL\\MySQL Server 5.7\\bin\\mysqld\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("所以如果我们想把它注册为服务的话可以在命令行里这么写：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v('"C:\\Program Files\\MySQL\\MySQL Server 5.7\\bin\\mysqld" --install\n')])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("在把"),s("code",[t._v("mysqld")]),t._v("注册为"),s("code",[t._v("Windows")]),t._v("服务之后，我们就可以通过下边这个命令来启动"),s("code",[t._v("MySQL")]),t._v("服务器程序了：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("net start MySQL\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("当然，如果你喜欢图形界面的话，你可以通过"),s("code",[t._v("Windows")]),t._v("的服务管理器通过用鼠标点点点的方式来启动和停止服务（作为一个程序猿，还是用黑框框吧～）。")]),t._v(" "),s("p",[t._v("关闭这个服务也非常简单，只要把上边的"),s("code",[t._v("start")]),t._v("换成"),s("code",[t._v("stop")]),t._v("就行了，就像这样：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("net stop MySQL\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("h2",{attrs:{id:"启动mysql客户端程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动mysql客户端程序"}},[t._v("#")]),t._v(" 启动MySQL客户端程序")]),t._v(" "),s("p",[t._v("在我们成功启动"),s("code",[t._v("MySQL")]),t._v("服务器程序后，就可以接着启动客户端程序来连接到这个服务器喽，"),s("code",[t._v("bin")]),t._v("目录下有许多客户端程序，比方说"),s("code",[t._v("mysqladmin")]),t._v("、"),s("code",[t._v("mysqldump")]),t._v("、"),s("code",[t._v("mysqlcheck")]),t._v("等等等等（好多呢，就不一一列举了）。这里我们重点要关注的是可执行文件"),s("code",[t._v("mysql")]),t._v("，通过这个可执行文件可以让我们和服务器程序进程交互，也就是发送请求，接收服务器的处理结果。启动这个可执行文件时一般需要一些参数，格式如下：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -h主机名  -u用户名 -p密码\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("各个参数的意义如下：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("参数名")]),t._v(" "),s("th",{staticStyle:{"text-align":"left"}},[t._v("含义")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("-h")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("表示服务器进程所在计算机的域名或者IP地址，如果服务器进程就运行在本机的话，可以省略这个参数，或者填"),s("code",[t._v("localhost")]),t._v("或者"),s("code",[t._v("127.0.0.1")]),t._v("。也可以写作 "),s("code",[t._v("--host=主机名")]),t._v("的形式。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("-u")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("表示用户名。也可以写作 "),s("code",[t._v("--user=用户名")]),t._v("的形式。")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("-p")])]),t._v(" "),s("td",{staticStyle:{"text-align":"left"}},[t._v("表示密码。也可以写作 "),s("code",[t._v("--password=密码")]),t._v("的形式。")])])])]),t._v(" "),s("div",{staticClass:"language-! line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("小贴士：\n\n像 h、u、p 这样名称只有一个英文字母的参数称为短形式的参数，使用时前边需要加单短划线，像 host、user、password 这样大于一个英文字母的参数称为长形式的参数，使用时前边需要加双短划线。后边会详细讨论这些参数的使用方式的，稍安勿躁～\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("比如我这样执行下边这个可执行文件(用户名密码按你的实际情况填写)，就可以启动"),s("code",[t._v("MySQL")]),t._v("客户端，并且连接到服务器了。")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -hlocalhost -uroot -p123456\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("我们看一下连接成功后的界面：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Welcome to the MySQL monitor.  Commands end with ; or \\g.\nYour MySQL connection id is 2\nServer version: 5.7.21 Homebrew\n\nCopyright (c) 2000, 2018, Oracle and/or its affiliates. All rights reserved.\n\nOracle is a registered trademark of Oracle Corporation and/or its\naffiliates. Other names may be trademarks of their respective\nowners.\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nmysql> \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br")])]),s("p",[t._v("最后一行的"),s("code",[t._v("mysql>")]),t._v("是一个客户端的提示符，之后客户端发送给服务器的命令都需要写在这个提示符后边。")]),t._v(" "),s("p",[t._v("如果我们想断开客户端与服务器的连接并且关闭客户端的话，可以在"),s("code",[t._v("mysql>")]),t._v("提示符后输入下边任意一个命令：")]),t._v(" "),s("ol",[s("li",[s("code",[t._v("quit")])]),t._v(" "),s("li",[s("code",[t._v("exit")])]),t._v(" "),s("li",[s("code",[t._v("\\q")])])]),t._v(" "),s("p",[t._v("比如我们输入"),s("code",[t._v("quit")]),t._v("试试：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql> quit\nBye\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("输出了"),s("code",[t._v("Bye")]),t._v("说明客户端程序已经关掉了。注意注意注意，这是关闭客户端程序的方式，不是关闭服务器程序的方式，怎么关闭服务器程序上一节里唠叨过了。")]),t._v(" "),s("p",[t._v("如果你愿意，你可以多打开几个黑框框，每个黑框框都使用"),s("code",[t._v("mysql -hlocahhost -uroot -p123456")]),t._v("来运行多个客户端程序，每个客户端程序都是互不影响的。如果你有多个电脑，也可以试试把它们用局域网连起来，在一个电脑上启动"),s("code",[t._v("MySQL")]),t._v("服务器程序，在另一个电脑上执行"),s("code",[t._v("mysql")]),t._v("命令时使用"),s("code",[t._v("IP")]),t._v("地址作为主机名来连接到服务器。")]),t._v(" "),s("h3",{attrs:{id:"连接注意事项"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接注意事项"}},[t._v("#")]),t._v(" 连接注意事项")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("最好不要在一行命令中输入密码。")]),t._v(" "),s("p",[t._v("我们直接在黑框框里输入密码很可能被别人看到，这和你当着别人的面输入银行卡密码没啥区别，所以我们在执行"),s("code",[t._v("mysql")]),t._v("连接服务器的时候可以不显式的写出密码，就像这样：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -hlocahhost -uroot -p\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("点击回车之后才会提示你输入密码：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("Enter password:\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("不过这回你输入的密码不会被显示出来，心怀不轨的人也就看不到了，输入完成点击回车就成功连接到了服务器。")])]),t._v(" "),s("li",[s("p",[t._v("如果你非要在一行命令中显式的把密码输出来，那"),s("code",[t._v("-p")]),t._v("和密码值之间不能有空白字符（其他参数名之间可以有空白字符），就像这样：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -h localhost -u root -p123456\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("如果加上了空白字符就是错误的，比如这样：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -h localhost -u root -p 123456\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("mysql")]),t._v("的各个参数的摆放顺序没有硬性规定，也就是说你也可以这么写：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -p  -u root -h localhost\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("如果你的服务器和客户端安装在同一台机器上，"),s("code",[t._v("-h")]),t._v("参数可以省略，就像这样：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -u root -p  \n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])])]),t._v(" "),s("li",[s("p",[t._v("如果你使用的是类"),s("code",[t._v("UNIX")]),t._v("系统，并且省略"),s("code",[t._v("-u")]),t._v("参数后，会把你登陆操作系统的用户名当作"),s("code",[t._v("MySQL")]),t._v("的用户名去处理。")]),t._v(" "),s("p",[t._v("比方说我用登录操作系统的用户名是"),s("code",[t._v("xiaohaizi")]),t._v("，那么在我的机器上下边这两条命令是等价的：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -u xiaohaizi -p\nmysql -p\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br")])]),s("p",[t._v("对于"),s("code",[t._v("Windows")]),t._v("系统来说，默认的用户名是"),s("code",[t._v("ODBC")]),t._v("，你可以通过设置环境变量"),s("code",[t._v("USER")]),t._v("来添加一个默认用户名。")])])]),t._v(" "),s("h2",{attrs:{id:"客户端与服务器连接的过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#客户端与服务器连接的过程"}},[t._v("#")]),t._v(" 客户端与服务器连接的过程")]),t._v(" "),s("p",[t._v("我们现在已经知道如何启动"),s("code",[t._v("MySQL")]),t._v("的服务器程序，以及如何启动客户端程序来连接到这个服务器程序。运行着的服务器程序和客户端程序本质上都是计算机上的一个进程，所以客户端进程向服务器进程发送请求并得到回复的过程"),s("span",{staticStyle:{color:"red"}},[t._v("本质上是一个进程间通信的过程")]),t._v("！"),s("code",[t._v("MySQL")]),t._v("支持下边三种客户端进程和服务器进程的通信方式。")]),t._v(" "),s("h3",{attrs:{id:"tcp-ip"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#tcp-ip"}},[t._v("#")]),t._v(" TCP/IP")]),t._v(" "),s("p",[t._v("真实环境中，数据库服务器进程和客户端进程可能运行在不同的主机中，它们之间必须通过网络来进行通讯。"),s("code",[t._v("MySQL")]),t._v("采用"),s("code",[t._v("TCP")]),t._v("作为服务器和客户端之间的网络通信协议。在网络环境下，每台计算机都有一个唯一的"),s("code",[t._v("IP地址")]),t._v("，如果某个进程有需要采用"),s("code",[t._v("TCP")]),t._v("协议进行网络通信方面的需求，可以向操作系统申请一个"),s("code",[t._v("端口号")]),t._v("，这是一个整数值，它的取值范围是"),s("code",[t._v("0~65535")]),t._v("。这样在网络中的其他进程就可以通过"),s("code",[t._v("IP地址 + 端口号")]),t._v("的方式来与这个进程连接，这样进程之间就可以通过网络进行通信了。")]),t._v(" "),s("p",[s("code",[t._v("MySQL")]),t._v("服务器启动的时候会默认申请"),s("code",[t._v("3306")]),t._v("端口号，之后就在这个端口号上等待客户端进程进行连接，用书面一点的话来说，"),s("code",[t._v("MySQL")]),t._v("服务器会默认监听"),s("code",[t._v("3306")]),t._v("端口。")]),t._v(" "),s("div",{staticClass:"language-! line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("小贴士：\n\n`TCP/IP`网络体系结构是现在通用的一种网络体系结构，其中的`TCP`和`IP`是体系结构中两个非常重要的网络协议，如果你并不知道协议是什么，或者并不知道网络是什么，那恐怕兄弟你来错地方了，找本计算机网络的书去瞅瞅吧！\n\n什么？计算机网络的书写的都贼晦涩，看不懂？没关系，等我～\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("如果"),s("code",[t._v("3306")]),t._v("端口号已经被别的进程占用了或者我们单纯的想自定义该数据库实例监听的端口号，那我们可以在启动服务器程序的命令行里添加"),s("code",[t._v("-P")]),t._v("参数来明确指定一下端口号，比如这样：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysqld -P3307\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("这样"),s("code",[t._v("MySQL")]),t._v("服务器在启动时就会去监听我们指定的端口号"),s("code",[t._v("3307")]),t._v("。")]),t._v(" "),s("p",[t._v("如果客户端进程想要使用"),s("code",[t._v("TCP/IP")]),t._v("网络来连接到服务器进程，比如我们在使用"),s("code",[t._v("mysql")]),t._v("来启动客户端程序时，在"),s("code",[t._v("-h")]),t._v("参数后必须跟随"),s("code",[t._v("IP地址")]),t._v("来作为需要连接的服务器进程所在主机的主机名，如果客户端进程和服务器进程在一台计算机中的话，我们可以使用"),s("code",[t._v("127.0.0.1")]),t._v("来代表本机的"),s("code",[t._v("IP地址")]),t._v("。另外，如果服务器进程监听的端口号不是默认的"),s("code",[t._v("3306")]),t._v("，我们也可以在使用"),s("code",[t._v("mysql")]),t._v("启动客户端程序时使用"),s("code",[t._v("-P")]),t._v("参数（大写的"),s("code",[t._v("P")]),t._v("，小写的"),s("code",[t._v("p")]),t._v("是用来指定密码的）来指定需要连接到的端口号。比如我们现在已经在本机启动了服务器进程，监听的端口号为"),s("code",[t._v("3307")]),t._v("，那我们启动客户端程序时可以这样写：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -h127.0.0.1 -uroot -P3307 -p\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("不知大家发现了没有，我们在启动服务器程序的命令"),s("code",[t._v("mysqld")]),t._v("和启动客户端程序的命令"),s("code",[t._v("mysql")]),t._v("后边都可以使用"),s("code",[t._v("-P")]),t._v("参数，关于如何在命令后边指定参数，指定哪些参数我们稍后会详细唠叨的，稍微等等哈～")]),t._v(" "),s("h3",{attrs:{id:"命名管道和共享内存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#命名管道和共享内存"}},[t._v("#")]),t._v(" 命名管道和共享内存")]),t._v(" "),s("p",[t._v("如果你是一个"),s("code",[t._v("Windows")]),t._v("用户，那么客户端进程和服务器进程之间可以考虑使用"),s("code",[t._v("命名管道")]),t._v("或"),s("code",[t._v("共享内存")]),t._v("进行通信。不过启用这些通信方式的时候需要在启动服务器程序和客户端程序时添加一些参数：")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("使用"),s("code",[t._v("命名管道")]),t._v("来进行进程间通信")]),t._v(" "),s("p",[t._v("需要在启动服务器程序的命令中加上"),s("code",[t._v("--enable-named-pipe")]),t._v("参数，然后在启动客户端程序的命令中加入"),s("code",[t._v("--pipe")]),t._v("或者"),s("code",[t._v("--protocol=pipe")]),t._v("参数。")])]),t._v(" "),s("li",[s("p",[t._v("使用"),s("code",[t._v("共享内存")]),t._v("来进行进程间通信")]),t._v(" "),s("p",[t._v("需要在启动服务器程序的命令中加上"),s("code",[t._v("--shared-memory")]),t._v("参数，在成功启动服务器后，"),s("code",[t._v("共享内存")]),t._v("便成为本地客户端程序的默认连接方式，不过我们也可以在启动客户端程序的命令中加入"),s("code",[t._v("--protocol=memory")]),t._v("参数来显式的指定使用共享内存进行通信。")]),t._v(" "),s("p",[t._v("不过需要注意的是，使用"),s("code",[t._v("共享内存")]),t._v("的方式进行通信的服务器进程和客户端进程必须在同一台"),s("code",[t._v("Windows")]),t._v("主机中。")])])]),t._v(" "),s("div",{staticClass:"language-! line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("小贴士：\n\n命名管道和共享内存是Windows操作系统中的两种进程间通信方式，如果你没听过的话也不用纠结，并不妨碍我们介绍MySQL的知识～\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"unix域套接字文件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#unix域套接字文件"}},[t._v("#")]),t._v(" Unix域套接字文件")]),t._v(" "),s("p",[t._v("如果我们的服务器进程和客户端进程都运行在同一台操作系统为类"),s("code",[t._v("Unix")]),t._v("的机器上的话，我们可以使用"),s("code",[t._v("Unix域套接字文件")]),t._v("来进行进程间通信。如果我们在启动客户端程序的时候指定的主机名为"),s("code",[t._v("localhost")]),t._v("，或者指定了"),s("code",[t._v("--protocol=socket")]),t._v("的启动参数，那服务器程序和客户端程序之间就可以通过"),s("code",[t._v("Unix")]),t._v("域套接字文件来进行通信了。"),s("code",[t._v("MySQL")]),t._v("服务器程序默认监听的"),s("code",[t._v("Unix")]),t._v("域套接字文件路径为"),s("code",[t._v("/tmp/mysql.sock")]),t._v("，客户端程序也默认连接到这个"),s("code",[t._v("Unix")]),t._v("域套接字文件。如果我们想改变这个默认路径，可以在启动服务器程序时指定"),s("code",[t._v("socket")]),t._v("参数，就像这样：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysqld --socket=/tmp/a.txt\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("这样服务器启动后便会监听"),s("code",[t._v("/tmp/a.txt")]),t._v("。在服务器改变了默认的"),s("code",[t._v("UNIX")]),t._v("域套接字文件后，如果客户端程序想通过"),s("code",[t._v("UNIX")]),t._v("域套接字文件进行通信的话，也需要显式的指定连接到的"),s("code",[t._v("UNIX")]),t._v("域套接字文件路径，就像这样：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql -hlocalhost -uroot --socket=/tmp/a.txt -p\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("这样该客户端进程和服务器进程就可以通过路径为"),s("code",[t._v("/tmp/a.txt")]),t._v("的"),s("code",[t._v("Unix")]),t._v("域套接字文件进行通信了。")]),t._v(" "),s("h2",{attrs:{id:"服务器处理客户端请求"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#服务器处理客户端请求"}},[t._v("#")]),t._v(" 服务器处理客户端请求")]),t._v(" "),s("p",[t._v("其实不论客户端进程和服务器进程是采用哪种方式进行通信，最后实现的效果都是："),s("span",{staticStyle:{color:"red"}},[t._v("客户端进程向服务器进程发送一段文本（MySQL语句），服务器进程处理后再向客户端进程发送一段文本（处理结果）")]),t._v("。那服务器进程对客户端进程发送的请求做了什么处理，才能产生最后的处理结果呢？客户端可以向服务器发送增删改查各类请求，我们这里以比较复杂的查询请求为例来画个图展示一下大致的过程：")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-gold-cdn.xitu.io/2018/12/28/167f4c7b99f87e1c?w=842&h=559&f=png&s=100231",alt:"image_1c8d26fmg1af0ms81cpc7gm8lv39.png-97.9kB"}})]),t._v(" "),s("p",[t._v("从图中我们可以看出，服务器程序处理来自客户端的查询请求大致需要经过三个部分，分别是"),s("code",[t._v("连接管理")]),t._v("、"),s("code",[t._v("解析与优化")]),t._v("、"),s("code",[t._v("存储引擎")]),t._v("。下边我们来详细看一下这三个部分都干了什么。")]),t._v(" "),s("h3",{attrs:{id:"连接管理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#连接管理"}},[t._v("#")]),t._v(" 连接管理")]),t._v(" "),s("p",[t._v("客户端进程可以采用我们上边介绍的"),s("code",[t._v("TCP/IP")]),t._v("、"),s("code",[t._v("命名管道或共享内存")]),t._v("、"),s("code",[t._v("Unix域套接字")]),t._v("这几种方式之一来与服务器进程建立连接，每当有一个客户端进程连接到服务器进程时，服务器进程都会创建一个线程来专门处理与这个客户端的交互，当该客户端退出时会与服务器断开连接，服务器并不会立即把与该客户端交互的线程销毁掉，而是把它缓存起来，在另一个新的客户端再进行连接时，把这个缓存的线程分配给该新客户端。这样就起到了不频繁创建和销毁线程的效果，从而节省开销。从这一点大家也能看出，"),s("code",[t._v("MySQL")]),t._v("服务器会为每一个连接进来的客户端分配一个线程，但是线程分配的太多了会严重影响系统性能，所以我们也需要限制一下可以同时连接到服务器的客户端数量，至于怎么限制我们后边再说哈～")]),t._v(" "),s("p",[t._v("在客户端程序发起连接的时候，需要携带主机信息、用户名、密码，服务器程序会对客户端程序提供的这些信息进行认证，如果认证失败，服务器程序会拒绝连接。另外，如果客户端程序和服务器程序不运行在一台计算机上，我们还可以采用使用了"),s("code",[t._v("SSL")]),t._v("（安全套接字）的网络连接进行通信，来保证数据传输的安全性。")]),t._v(" "),s("p",[t._v("当连接建立后，与该客户端关联的服务器线程会一直等待客户端发送过来的请求，"),s("code",[t._v("MySQL")]),t._v("服务器接收到的请求只是一个文本消息，该文本消息还要经过各种处理，预知后事如何，继续往下看哈～")]),t._v(" "),s("h3",{attrs:{id:"解析与优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解析与优化"}},[t._v("#")]),t._v(" 解析与优化")]),t._v(" "),s("p",[t._v("到现在为止，"),s("code",[t._v("MySQL")]),t._v("服务器已经获得了文本形式的请求，接着\n还要经过九九八十一难的处理，其中的几个比较重要的部分分别是"),s("code",[t._v("查询缓存")]),t._v("、"),s("code",[t._v("语法解析")]),t._v("和"),s("code",[t._v("查询优化")]),t._v("，下边我们详细来看。")]),t._v(" "),s("h4",{attrs:{id:"查询缓存"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询缓存"}},[t._v("#")]),t._v(" 查询缓存")]),t._v(" "),s("p",[t._v("如果我问你"),s("code",[t._v("9+8×16-3×2×17")]),t._v("的值是多少，你可能会用计算器去算一下，或者牛逼一点用心算，最终得到了结果"),s("code",[t._v("35")]),t._v("，如果我再问你一遍"),s("code",[t._v("9+8×16-3×2×17")]),t._v("的值是多少，你还用再傻呵呵的算一遍么？我们刚刚已经算过了，直接说答案就好了。"),s("code",[t._v("MySQL")]),t._v("服务器程序处理查询请求的过程也是这样，会把刚刚处理过的查询请求和结果"),s("code",[t._v("缓存")]),t._v("起来，如果下一次有一模一样的请求过来，直接从缓存中查找结果就好了，就不用再傻呵呵的去底层的表中查找了。这个查询缓存可以在不同客户端之间共享，也就是说如果客户端A刚刚查询了一个语句，而客户端B之后发送了同样的查询请求，那么客户端B的这次查询就可以直接使用查询缓存中的数据。")]),t._v(" "),s("p",[t._v("当然，"),s("code",[t._v("MySQL")]),t._v("服务器并没有人聪明，"),s("span",{staticStyle:{color:"red"}},[t._v("如果两个查询请求在任何字符上的不同（例如：空格、注释、大小写），都会导致缓存不会命中")]),t._v("。另外，"),s("span",{staticStyle:{color:"red"}},[t._v("如果查询请求中包含某些系统函数、用户自定义变量和函数、一些系统表，如 mysql 、information_schema、 performance_schema 数据库中的表，那这个请求就不会被缓存")]),t._v("。以某些系统函数举例，可能同样的函数的两次调用会产生不一样的结果，比如函数"),s("code",[t._v("NOW")]),t._v("，每次调用都会产生最新的当前时间，如果在一个查询请求中调用了这个函数，那即使查询请求的文本信息都一样，那不同时间的两次查询也应该得到不同的结果，如果在第一次查询时就缓存了，那第二次查询的时候直接使用第一次查询的结果就是错误的！")]),t._v(" "),s("p",[t._v("不过既然是缓存，那就有它缓存失效的时候。"),s("span",{staticStyle:{color:"red"}},[t._v("MySQL的缓存系统会监测涉及到的每张表，只要该表的结构或者数据被修改，如对该表使用了"),s("code",[t._v("INSERT")]),t._v("、 "),s("code",[t._v("UPDATE")]),t._v("、"),s("code",[t._v("DELETE")]),t._v("、"),s("code",[t._v("TRUNCATE TABLE")]),t._v("、"),s("code",[t._v("ALTER TABLE")]),t._v("、"),s("code",[t._v("DROP TABLE")]),t._v("或 "),s("code",[t._v("DROP DATABASE")]),t._v("语句，那使用该表的所有高速缓存查询都将变为无效并从高速缓存中删除")]),t._v("！")]),t._v(" "),s("div",{staticClass:"language-! line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("小贴士：\n\n虽然查询缓存有时可以提升系统性能，但也不得不因维护这块缓存而造成一些开销，比如每次都要去查询缓存中检索，查询请求处理完需要更新查询缓存，维护该查询缓存对应的内存区域。从MySQL 5.7.20开始，不推荐使用查询缓存，并在MySQL 8.0中删除。\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h4",{attrs:{id:"语法解析"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#语法解析"}},[t._v("#")]),t._v(" 语法解析")]),t._v(" "),s("p",[t._v("如果查询缓存没有命中，接下来就需要进入正式的查询阶段了。因为客户端程序发送过来的请求只是一段文本而已，所以"),s("code",[t._v("MySQL")]),t._v("服务器程序首先要对这段文本做分析，判断请求的语法是否正确，然后从文本中将要查询的表、各种查询条件都提取出来放到"),s("code",[t._v("MySQL")]),t._v("服务器内部使用的一些数据结构上来。")]),t._v(" "),s("div",{staticClass:"language-! line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("小贴士：\n\n这个从指定的文本中提取出我们需要的信息本质上算是一个编译过程，涉及词法解析、语法分析、语义分析等阶段，这些问题不属于我们讨论的范畴，大家只要了解在处理请求的过程中需要这个步骤就好了。\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h4",{attrs:{id:"查询优化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查询优化"}},[t._v("#")]),t._v(" 查询优化")]),t._v(" "),s("p",[t._v("语法解析之后，服务器程序获得到了需要的信息，比如要查询的列是哪些，表是哪个，搜索条件是什么等等，但光有这些是不够的，因为我们写的"),s("code",[t._v("MySQL")]),t._v("语句执行起来效率可能并不是很高，"),s("code",[t._v("MySQL")]),t._v("的优化程序会对我们的语句做一些优化，如外连接转换为内连接、表达式简化、子查询转为连接吧啦吧啦的一堆东西。优化的结果就是生成一个执行计划，这个执行计划表明了应该使用哪些索引进行查询，表之间的连接顺序是啥样的。我们可以使用"),s("code",[t._v("EXPLAIN")]),t._v("语句来查看某个语句的执行计划，关于查询优化这部分的详细内容我们后边会仔细唠叨，现在你只需要知道在"),s("code",[t._v("MySQL")]),t._v("服务器程序处理请求的过程中有这么一个步骤就好了。")]),t._v(" "),s("h3",{attrs:{id:"存储引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#存储引擎"}},[t._v("#")]),t._v(" 存储引擎")]),t._v(" "),s("p",[t._v("截止到服务器程序完成了查询优化为止，还没有真正的去访问真实的数据表，"),s("code",[t._v("MySQL")]),t._v("服务器把数据的存储和提取操作都封装到了一个叫"),s("code",[t._v("存储引擎")]),t._v("的模块里。我们知道"),s("code",[t._v("表")]),t._v("是由一行一行的记录组成的，但这只是一个逻辑上的概念，物理上如何表示记录，怎么从表中读取数据，怎么把数据写入具体的物理存储器上，这都是"),s("code",[t._v("存储引擎")]),t._v("负责的事情。为了实现不同的功能，"),s("code",[t._v("MySQL")]),t._v("提供了各式各样的"),s("code",[t._v("存储引擎")]),t._v("，不同"),s("code",[t._v("存储引擎")]),t._v("管理的表具体的存储结构可能不同，采用的存取算法也可能不同。")]),t._v(" "),s("div",{staticClass:"language-! line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("小贴士：\n\n为什么叫`引擎`呢？因为这个名字更拉风～ 其实这个存储引擎以前叫做`表处理器`，后来可能人们觉得太土，就改成了`存储引擎`的叫法，它的功能就是接收上层传下来的指令，然后对表中的数据进行提取或写入操作。\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("为了管理方便，人们把"),s("code",[t._v("连接管理")]),t._v("、"),s("code",[t._v("查询缓存")]),t._v("、"),s("code",[t._v("语法解析")]),t._v("、"),s("code",[t._v("查询优化")]),t._v("这些并不涉及真实数据存储的功能划分为"),s("code",[t._v("MySQL server")]),t._v("的功能，把真实存取数据的功能划分为"),s("code",[t._v("存储引擎")]),t._v("的功能。各种不同的存储引擎向上边的"),s("code",[t._v("MySQL server")]),t._v('层提供统一的调用接口（也就是存储引擎API），包含了几十个底层函数，像"读取索引第一条内容"、"读取索引下一条内容"、"插入记录"等等。')]),t._v(" "),s("p",[t._v("所以在"),s("code",[t._v("MySQL server")]),t._v("完成了查询优化后，只需按照生成的执行计划调用底层存储引擎提供的API，获取到数据后返回给客户端就好了。")]),t._v(" "),s("h2",{attrs:{id:"常用存储引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#常用存储引擎"}},[t._v("#")]),t._v(" 常用存储引擎")]),t._v(" "),s("p",[s("code",[t._v("MySQL")]),t._v("支持非常多种存储引擎，我这先列举一些：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("存储引擎")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("描述")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("ARCHIVE")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("用于数据存档（行被插入后不能再修改）")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("BLACKHOLE")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("丢弃写操作，读操作会返回空内容")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("CSV")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("在存储数据时，以逗号分隔各个数据项")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("FEDERATED")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("用来访问远程表")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("InnoDB")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("具备外键支持功能的事务存储引擎")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("MEMORY")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("置于内存的表")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("MERGE")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("用来管理多个MyISAM表构成的表集合")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("MyISAM")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("主要的非事务处理存储引擎")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[s("code",[t._v("NDB")])]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("MySQL集群专用存储引擎")])])])]),t._v(" "),s("p",[t._v("这么多我们怎么挑啊，哈哈，你多虑了，其实我们最常用的就是"),s("code",[t._v("InnoDB")]),t._v("和"),s("code",[t._v("MyISAM")]),t._v("，有时会提一下"),s("code",[t._v("Memory")]),t._v("。其中"),s("code",[t._v("InnoDB")]),t._v("是"),s("code",[t._v("MySQL")]),t._v("默认的存储引擎，我们之后会详细唠叨这个存储引擎的各种功能，现在先看一下一些存储引擎对于某些功能的支持情况：")]),t._v(" "),s("table",[s("thead",[s("tr",[s("th",{staticStyle:{"text-align":"center"}},[t._v("Feature")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("MyISAM")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Memory")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("InnoDB")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("Archive")]),t._v(" "),s("th",{staticStyle:{"text-align":"center"}},[t._v("NDB")])])]),t._v(" "),s("tbody",[s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("B-tree indexes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Backup/point-in-time recovery")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Cluster database support")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Clustered indexes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Compressed data")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Data caches")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("N/A")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Encrypted data")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Foreign key support")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Full-text search indexes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Geospatial data type support")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Geospatial indexing support")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Hash indexes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Index caches")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("N/A")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Locking granularity")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Table")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Table")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Row")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Row")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Row")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("MVCC")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Query cache support")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Replication support")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("Limited")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Storage limits")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("256TB")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("RAM")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("64TB")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("None")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("384EB")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("T-tree indexes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Transactions")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("no")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])]),t._v(" "),s("tr",[s("td",{staticStyle:{"text-align":"center"}},[t._v("Update statistics for data dictionary")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")]),t._v(" "),s("td",{staticStyle:{"text-align":"center"}},[t._v("yes")])])])]),t._v(" "),s("p",[t._v("密密麻麻列了这么多，看的头皮都发麻了，达到的效果就是告诉你：这玩意儿很复杂。其实这些东西大家没必要立即就给记住，我列出来的目的就是想让大家明白不同的存储引擎支持不同的功能，有些重要的功能我们会在后边的唠叨中慢慢让大家理解的～")]),t._v(" "),s("h2",{attrs:{id:"关于存储引擎的一些操作"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关于存储引擎的一些操作"}},[t._v("#")]),t._v(" 关于存储引擎的一些操作")]),t._v(" "),s("h3",{attrs:{id:"查看当前服务器程序支持的存储引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看当前服务器程序支持的存储引擎"}},[t._v("#")]),t._v(" 查看当前服务器程序支持的存储引擎")]),t._v(" "),s("p",[t._v("我们可以用下边这个命令来查看当前服务器程序支持的存储引擎：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("SHOW ENGINES;\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("来看一下调用效果：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql> SHOW ENGINES;\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n| Engine             | Support | Comment                                                        | Transactions | XA   | Savepoints |\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n| InnoDB             | DEFAULT | Supports transactions, row-level locking, and foreign keys     | YES          | YES  | YES        |\n| MRG_MYISAM         | YES     | Collection of identical MyISAM tables                          | NO           | NO   | NO         |\n| MEMORY             | YES     | Hash based, stored in memory, useful for temporary tables      | NO           | NO   | NO         |\n| BLACKHOLE          | YES     | /dev/null storage engine (anything you write to it disappears) | NO           | NO   | NO         |\n| MyISAM             | YES     | MyISAM storage engine                                          | NO           | NO   | NO         |\n| CSV                | YES     | CSV storage engine                                             | NO           | NO   | NO         |\n| ARCHIVE            | YES     | Archive storage engine                                         | NO           | NO   | NO         |\n| PERFORMANCE_SCHEMA | YES     | Performance Schema                                             | NO           | NO   | NO         |\n| FEDERATED          | NO      | Federated MySQL storage engine                                 | NULL         | NULL | NULL       |\n+--------------------+---------+----------------------------------------------------------------+--------------+------+------------+\n9 rows in set (0.00 sec)\n\nmysql>\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br"),s("span",{staticClass:"line-number"},[t._v("10")]),s("br"),s("span",{staticClass:"line-number"},[t._v("11")]),s("br"),s("span",{staticClass:"line-number"},[t._v("12")]),s("br"),s("span",{staticClass:"line-number"},[t._v("13")]),s("br"),s("span",{staticClass:"line-number"},[t._v("14")]),s("br"),s("span",{staticClass:"line-number"},[t._v("15")]),s("br"),s("span",{staticClass:"line-number"},[t._v("16")]),s("br"),s("span",{staticClass:"line-number"},[t._v("17")]),s("br")])]),s("p",[t._v("其中的"),s("code",[t._v("Support")]),t._v("列表示该存储引擎是否可用，"),s("code",[t._v("DEFAULT")]),t._v("值代表是当前服务器程序的默认存储引擎。"),s("code",[t._v("Comment")]),t._v("列是对存储引擎的一个描述，英文的，将就着看吧。"),s("code",[t._v("Transactions")]),t._v("列代表该存储引擎是否支持事务处理。"),s("code",[t._v("XA")]),t._v("列代表着该存储引擎是否支持分布式事务。"),s("code",[t._v("Savepoints")]),t._v("代表着该存储引擎是否支持部分事务回滚。")]),t._v(" "),s("div",{staticClass:"language-! line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("小贴士：\n\n好吧，也许你并不知道什么是个事务、更别提分布式事务了，这些内容我们在后边的章节会详细唠叨，现在瞅一眼看个新鲜就得了。\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("h3",{attrs:{id:"设置表的存储引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#设置表的存储引擎"}},[t._v("#")]),t._v(" 设置表的存储引擎")]),t._v(" "),s("p",[t._v("我们前边说过，存储引擎是负责对表中的数据进行提取和写入工作的，"),s("span",{staticStyle:{color:"red"}},[t._v("我们可以为不同的表设置不同的存储引擎")]),t._v("，也就是说不同的表可以有不同的物理存储结构，不同的提取和写入方式。")]),t._v(" "),s("h4",{attrs:{id:"创建表时指定存储引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建表时指定存储引擎"}},[t._v("#")]),t._v(" 创建表时指定存储引擎")]),t._v(" "),s("p",[t._v("我们之前创建表的语句都没有指定表的存储引擎，那就会使用默认的存储引擎"),s("code",[t._v("InnoDB")]),t._v("（当然这个默认的存储引擎也是可以修改的，我们在后边的章节中再说怎么改）。如果我们想显式的指定一下表的存储引擎，那可以这么写：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("CREATE TABLE 表名(\n    建表语句;\n) ENGINE = 存储引擎名称;\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br")])]),s("p",[t._v("比如我们想创建一个存储引擎为"),s("code",[t._v("MyISAM")]),t._v("的表可以这么写：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql> CREATE TABLE engine_demo_table(\n    ->     i int\n    -> ) ENGINE = MyISAM;\nQuery OK, 0 rows affected (0.02 sec)\n\nmysql>\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br")])]),s("h4",{attrs:{id:"修改表的存储引擎"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#修改表的存储引擎"}},[t._v("#")]),t._v(" 修改表的存储引擎")]),t._v(" "),s("p",[t._v("如果表已经建好了，我们也可以使用下边这个语句来修改表的存储引擎：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("ALTER TABLE 表名 ENGINE = 存储引擎名称;\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br")])]),s("p",[t._v("比如我们修改一下"),s("code",[t._v("engine_demo_table")]),t._v("表的存储引擎：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql> ALTER TABLE engine_demo_table ENGINE = InnoDB;\nQuery OK, 0 rows affected (0.05 sec)\nRecords: 0  Duplicates: 0  Warnings: 0\n\nmysql>\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br")])]),s("p",[t._v("这时我们再查看一下"),s("code",[t._v("engine_demo_table")]),t._v("的表结构：")]),t._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("mysql> SHOW CREATE TABLE engine_demo_table\\G\n*************************** 1. row ***************************\n       Table: engine_demo_table\nCreate Table: CREATE TABLE `engine_demo_table` (\n  `i` int(11) DEFAULT NULL\n) ENGINE=InnoDB DEFAULT CHARSET=utf8\n1 row in set (0.01 sec)\n\nmysql>\n")])]),t._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[t._v("1")]),s("br"),s("span",{staticClass:"line-number"},[t._v("2")]),s("br"),s("span",{staticClass:"line-number"},[t._v("3")]),s("br"),s("span",{staticClass:"line-number"},[t._v("4")]),s("br"),s("span",{staticClass:"line-number"},[t._v("5")]),s("br"),s("span",{staticClass:"line-number"},[t._v("6")]),s("br"),s("span",{staticClass:"line-number"},[t._v("7")]),s("br"),s("span",{staticClass:"line-number"},[t._v("8")]),s("br"),s("span",{staticClass:"line-number"},[t._v("9")]),s("br")])]),s("p",[t._v("可以看到该表的存储引擎已经改为"),s("code",[t._v("InnoDB")]),t._v("了。")])])}),[],!1,null,null,null);e.default=v.exports}}]);