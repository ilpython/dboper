(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{486:function(s,e,a){"use strict";a.r(e);var v=a(24),_=Object(v.a)({},(function(){var s=this,e=s.$createElement,a=s._self._c||e;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"初识mysql"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#初识mysql"}},[s._v("#")]),s._v(" 初识MySQL")]),s._v(" "),a("p",[s._v("标签： MySQL是怎样运行的")]),s._v(" "),a("hr"),s._v(" "),a("h2",{attrs:{id:"mysql的客户端-服务器架构"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql的客户端-服务器架构"}},[s._v("#")]),s._v(" MySQL的客户端／服务器架构")]),s._v(" "),a("p",[s._v("以我们平时使用的微信为例，它其实是由两部分组成的，一部分是客户端程序，一部分是服务器程序。客户端可能有很多种形式，比如手机APP，电脑软件或者是网页版微信，每个客户端都有一个唯一的用户名，就是你的微信号，另一方面，腾讯公司在他们的机房里运行着一个服务器软件，我们平时操作微信其实都是用客户端来和这个服务器来打交道。比如狗哥用微信给猫爷发了一条消息的过程其实是这样的：")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("消息被客户端包装了一下，添加了发送者和接收者信息，然后从狗哥的微信客户端传送给微信服务器；")])]),s._v(" "),a("li",[a("p",[s._v("微信服务器从消息里获取到它的发送者和接收者，根据消息的接收者信息把这条消息送达到猫爷的微信客户端，猫爷的微信客户端里就显示出狗哥给他发了一条消息。")])])]),s._v(" "),a("p",[a("code",[s._v("MySQL")]),s._v("的使用过程跟这个是一样的，它的服务器程序"),a("span",{staticStyle:{color:"red"}},[s._v("直接和我们存储的数据打交道")]),s._v("，然后可以有好多客户端程序连接到这个服务器程序，发送增删改查的请求，然后服务器就响应这些请求，从而操作它维护的数据。和微信一样，"),a("code",[s._v("MySQL")]),s._v("的每个客户端都需要提供用户名密码才能登录，登录之后才能给服务器发请求来操作某些数据。我们日常使用"),a("code",[s._v("MySQL")]),s._v("的情景一般是这样的：")]),s._v(" "),a("ol",[a("li",[s._v("启动"),a("code",[s._v("MySQL")]),s._v("服务器程序。")]),s._v(" "),a("li",[s._v("启动"),a("code",[s._v("MySQL")]),s._v("客户端程序并连接到服务器程序。")]),s._v(" "),a("li",[s._v("在客户端程序中输入一些命令语句作为请求发送到服务器程序，服务器程序收到这些请求后，会根据请求的内容来操作具体的数据并向客户端返回操作结果。")])]),s._v(" "),a("p",[s._v("我们知道计算机很牛逼，在一台计算机上可以同时运行多个程序，比如微信、QQ、音乐播放器、文本编辑器啥的，每一个运行着的程序也被称为一个"),a("code",[s._v("进程")]),s._v("。我们的"),a("code",[s._v("MySQL")]),s._v("服务器程序和客户端程序本质上都算是计算机上的一个"),a("code",[s._v("进程")]),s._v("，这个代表着"),a("code",[s._v("MySQL")]),s._v("服务器程序的进程也被称为"),a("code",[s._v("MySQL数据库实例")]),s._v("，简称"),a("code",[s._v("数据库实例")]),s._v("。")]),s._v(" "),a("p",[s._v("每个进程都有一个唯一的编号，称为"),a("code",[s._v("进程ID")]),s._v("，英文名叫"),a("code",[s._v("PID")]),s._v("，这个编号是在我们启动程序的时候由操作系统随机分配的，操作系统会保证在某一时刻同一台机器上的进程号不重复。比如你打开了计算机中的QQ程序，那么操作系统会为它分配一个唯一的进程号，如果你把这个程序关掉了，那操作系统就会把这个进程号回收，之后可能会重新分配给别的进程。当我们下一次再启动 QQ程序的时候分配的就可能是另一个编号。每个进程都有一个名称，这个名称是编写程序的人自己定义的，比如我们启动的"),a("code",[s._v("MySQL")]),s._v("服务器进程的默认名称为"),a("code",[s._v("mysqld")]),s._v("， 而我们常用的"),a("code",[s._v("MySQL")]),s._v("客户端进程的默认名称为"),a("code",[s._v("mysql")]),s._v("。")]),s._v(" "),a("h2",{attrs:{id:"mysql的安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mysql的安装"}},[s._v("#")]),s._v(" MySQL的安装")]),s._v(" "),a("p",[s._v("不论我们通过下载源代码自行编译安装的方式还是直接使用官方提供的安装包进行安装之后，"),a("code",[s._v("MySQL")]),s._v("的服务器程序和客户端程序都会被安装到我们的机器上。不论使用上述两者的哪种安装方式，一定一定一定（重要的话说三遍）要记住你把"),a("code",[s._v("MySQL")]),s._v("安装到哪了，换句话说，一定要记住"),a("code",[s._v("MySQL")]),s._v("的安装目录。")]),s._v(" "),a("div",{staticClass:"language-! line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("小贴士：\n\n`MySQL`的大部分安装包都包含了服务器程序和客户端程序，不过在Linux下使用RPM包时会有单独的服务器RPM包和客户端RPM包，需要分别安装。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("另外，"),a("code",[s._v("MySQL")]),s._v("可以运行在各种各样的操作系统上，我们后边会讨论在类"),a("code",[s._v("UNIX")]),s._v("操作系统和"),a("code",[s._v("Windows")]),s._v("操作系统上使用的一些差别。为了方便大家理解，我在"),a("code",[s._v("macOS")]),s._v(" 操作系统（苹果电脑使用的操作系统）和"),a("code",[s._v("Windows")]),s._v("操作系统上都安装了"),a("code",[s._v("MySQL")]),s._v("，它们的安装目录分别是：")]),s._v(" "),a("ul",[a("li",[a("code",[s._v("macOS")]),s._v("操作系统上的安装目录：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/usr/local/mysql/\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("code",[s._v("Windows")]),s._v("操作系统上的安装目录：")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("C:\\Program Files\\MySQL\\MySQL Server 5.7\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("下边我会以这两个安装目录为例来进一步扯出更多的概念，不过一定要注意，"),a("span",{staticStyle:{color:"red"}},[s._v("这两个安装目录是我的运行不同操作系统的机器上的安装目录，一定要记着把下边示例中用到安装目录的地方替换为你自己机器上的安装目录")]),s._v("。")]),s._v(" "),a("div",{staticClass:"language-! line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("小贴士：\n\n类UNIX操作系统非常多，比如FreeBSD、Linux、macOS、Solaris等都属于UNIX操作系统的范畴，我们这里使用macOS操作系统代表类UNIX操作系统来运行MySQL。\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h3",{attrs:{id:"bin目录下的可执行文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#bin目录下的可执行文件"}},[s._v("#")]),s._v(" bin目录下的可执行文件")]),s._v(" "),a("p",[s._v("在"),a("code",[s._v("MySQL")]),s._v("的安装目录下有一个特别特别重要的"),a("code",[s._v("bin")]),s._v("目录，这个目录下存放着许多可执行文件，以"),a("code",[s._v("macOS")]),s._v("系统为例，这个"),a("code",[s._v("bin")]),s._v("目录的绝对路径就是（在我的机器上）：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/usr/local/mysql/bin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("我们列出一些在"),a("code",[s._v("macOS")]),s._v("中这个"),a("code",[s._v("bin")]),s._v("目录下的一部分可执行文件来看一下（文件太多，全列出来会刷屏的）：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v(".\n├── mysql\n├── mysql.server -> ../support-files/mysql.server\n├── mysqladmin\n├── mysqlbinlog\n├── mysqlcheck\n├── mysqld\n├── mysqld_multi\n├── mysqld_safe\n├── mysqldump\n├── mysqlimport\n├── mysqlpump\n... (省略其他文件)\n0 directories, 40 files\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br")])]),a("p",[a("code",[s._v("Windows")]),s._v("中的可执行文件与"),a("code",[s._v("macOS")]),s._v("中的类似，不过都是以"),a("code",[s._v(".exe")]),s._v("为扩展名的。这些可执行文件都是与服务器程序和客户端程序相关的，后边我们会详细唠叨一些比较重要的可执行文件，现在先看看执行这些文件的方式。")]),s._v(" "),a("p",[s._v("对于有可视化界面的操作系统来说，我们拿着鼠标点点点就可以执行某个可执行文件，不过现在我们更关注在命令行环境下如何执行这些可执行文件，命令行通俗的说就是那些黑框框，这里的指的是类"),a("code",[s._v("UNIX")]),s._v("系统中的"),a("code",[s._v("Shell")]),s._v("或者"),a("code",[s._v("Windows")]),s._v("系统中的"),a("code",[s._v("cmd.exe")]),s._v("，如果你现在还不知道怎么启动这些命令行工具，网上搜搜吧～ 下边我们以"),a("code",[s._v("macOS")]),s._v("系统为例来看看如何启动这些可执行文件（"),a("code",[s._v("Windows")]),s._v("中的操作是类似的，依葫芦画瓢就好了）")]),s._v(" "),a("ul",[a("li",[a("p",[s._v("使用可执行文件的相对／绝对路径")]),s._v(" "),a("p",[s._v("假设我们现在所处的工作目录是"),a("code",[s._v("MySQL")]),s._v("的安装目录，也就是"),a("code",[s._v("/usr/local/mysql")]),s._v("，我们想启动"),a("code",[s._v("bin")]),s._v("目录下的"),a("code",[s._v("mysqld")]),s._v("这个可执行文件，可以使用相对路径来启动：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("./bin/mysqld\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("或者直接输入"),a("code",[s._v("mysqld")]),s._v("的绝对路径也可以：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/usr/local/mysql/bin/mysqld\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("将该"),a("code",[s._v("bin")]),s._v("目录的路径加入到环境变量"),a("code",[s._v("PATH")]),s._v("中")]),s._v(" "),a("p",[s._v("如果我们觉得每次执行一个文件都要输入一串长长的路径名贼麻烦的话，可以把该"),a("code",[s._v("bin")]),s._v("目录所在的路径添加到环境变量"),a("code",[s._v("PATH")]),s._v("中。环境变量"),a("code",[s._v("PATH")]),s._v("是一系列路径的集合，各个路径之间使用冒号"),a("code",[s._v(":")]),s._v("隔离开，比方说我的机器上的环境变量"),a("code",[s._v("PATH")]),s._v("的值就是：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("我的系统中这个环境变量"),a("code",[s._v("PATH")]),s._v("的值表明：当我在输入一个命令时，系统便会在"),a("code",[s._v("/usr/local/bin")]),s._v("、"),a("code",[s._v("/usr/bin:")]),s._v("、"),a("code",[s._v("/bin:")]),s._v("、"),a("code",[s._v("/usr/sbin")]),s._v("、"),a("code",[s._v("/sbin")]),s._v("这些目录下依次寻找是否存在我们输入的那个命令，如果寻找成功，则执行该目录下对应的可执行文件。所以我们现在可以修改一下这个环境变量"),a("code",[s._v("PATH")]),s._v("，把"),a("code",[s._v("MySQL")]),s._v("安装目录下的"),a("code",[s._v("bin")]),s._v("目录的路径也加入到"),a("code",[s._v("PATH")]),s._v("中，在我的机器上修改后的环境变量"),a("code",[s._v("PATH")]),s._v("的值为：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/usr/local/mysql/bin\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("这样现在不论我们所处的工作目录是啥，我们都可以直接输入可执行文件的名字就可以启动它，比如这样：")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("mysqld\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("方便多了哈～")]),s._v(" "),a("div",{staticClass:"language-! line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("小贴士：\n\n关于啥是环境变量以及如何在当前系统中添加或修改系统变量不是我们唠叨的范围，大家找本相关的书或者上网查一查哈～\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])]),s._v(" "),a("p",[s._v("[]:")])])}),[],!1,null,null,null);e.default=_.exports}}]);